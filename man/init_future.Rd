% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/init_future.R
\name{init_future}
\alias{init_future}
\title{Initialize a Future Plan}
\usage{
init_future(
  cores = slurm_cores(),
  mem = 4,
  nested = FALSE,
  type = c("multicore", "multisession", "callr", "mirai_multisession", "mirai_cluster")
)
}
\arguments{
\item{cores}{Integer number of worker processes. Defaults to
\code{\link[=slurm_cores]{slurm_cores()}}, which detects SLURM allocation or falls back to
\code{\link[parallelly:availableCores]{parallelly::availableCores()}}.}

\item{mem}{Numeric memory limit per worker in GiB. Sets
\code{future.globals.maxSize} to \code{mem * 1024^3}. Default is \code{4} (4 GiB).}

\item{nested}{Logical. If \code{FALSE} (the default), sets a single-level
parallel plan. If \code{TRUE}, sets a two-level plan with \link[future:sequential]{future::sequential}
as the outer layer and the parallel backend as the inner layer, which is
useful for nested future calls.}

\item{type}{Character string selecting the parallel backend. One of
\code{"multicore"}, \code{"multisession"}, \code{"callr"}, \code{"mirai_multisession"}, or
\code{"mirai_cluster"}. Default is \code{"multicore"}.
Note that \code{"multicore"} is not supported on Windows; the function will
automatically fall back to \code{"multisession"} in that case.}
}
\value{
The plan (invisibly), as returned by \code{\link[future:plan]{future::plan()}}.
}
\description{
Sets up a \code{\link[future:plan]{future::plan()}} with sensible defaults so you don't have to
remember the plan constructors and \code{\link[future:plan]{future::tweak()}} syntax. Configures the
global memory limit (\code{future.globals.maxSize}) and selects a parallel
backend.
}
\details{
The \code{"callr"} backend requires the \pkg{future.callr} package.
The \code{"mirai_multisession"} and \code{"mirai_cluster"} backends require the
\pkg{future.mirai} package. If the required package is not installed, the
function will stop with an informative error.
}
\examples{
\dontrun{
# Basic usage with defaults
init_future()

# Use 8 cores with 8 GiB memory limit
init_future(cores = 8, mem = 8)

# Nested plan for inner parallelism
init_future(cores = 4, nested = TRUE)

# Use the callr backend
init_future(type = "callr")

# Use mirai backends (fast, low-overhead)
init_future(type = "mirai_multisession")
init_future(type = "mirai_cluster")
}
}
